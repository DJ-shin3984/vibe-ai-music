---
description: Vibe AI Music 서비스 도메인 정의. 모든 요청은 이 도메인을 전제로 실행한다.
alwaysApply: true
---

# Domain — Vibe AI Music 도메인

모든 구현·기획·용어·API·UI 결정은 아래 도메인 분석을 전제로 한다. 도메인과 어긋나는 제안은 하지 않는다.

---

## 1. 서비스 정체

| 항목 | 내용 |
|------|------|
| **서비스명** | Vibe AI Music |
| **한 줄 가치** | AI와 함께 만드는 당신만의 음악 |
| **핵심 가치** | 사용자가 AI를 통해 개인화된 음악을 만들거나 영감을 얻는 공간 |

---

## 2. 사용자 여정

1. **비로그인**: 홈(`/`) → CTA "시작하기" → `/auth` (Google 로그인)
2. **로그인 후**: `/auth` 또는 OAuth 콜백 → **`/workspace`** 로 리다이렉트
3. **워크스페이스**: 로그인 사용자 전용. 하단 고정 **AI 프롬프트 입력창**으로 메시지·이미지 전송 (추후 AI 음악/영감 연동 예정)
4. **진입점**: 홈 Hero CTA는 `/auth`, 로고는 컨텍스트별(홈은 `/`, 워크스페이스 헤더는 `/workspace`)

---

## 3. 핵심 엔티티·역할

- **사용자(User)**: Google 로그인, `auth.users` + `public.users` 동기화(id, email, full_name, avatar_url). 로그인 시에만 워크스페이스 접근.
- **워크스페이스(Workspace)**: 로그인 사용자의 메인 작업 공간. 배경 `#171717`, "음악적 영감이 오는" 심플한 UI. 하단 고정 프롬프트로 AI와 상호작용(텍스트·이미지·보이스 플레이스홀더).
- **프롬프트(Prompt)**: 사용자가 AI에게 보내는 입력. 현재는 UI만 있고 전송 시 콘솔/API 연동은 TODO.

---

## 4. 용어·표현 (일관 유지)

- **서비스명**: "Vibe AI Music" (필기체 로고는 `font-handwriting` = Dancing Script)
- **문구**: "AI와 함께 만드는 당신만의 음악", "음악적 영감이 오는 공간"
- **페이지**: 홈, 로그인(인증), 워크스페이스. "시작하기" → 로그인으로 유도
- **인증**: Google 로그인만. 로그인/로그아웃, 회원가입은 구분하지 않음(동일 플로우)

---

## 5. 기술·스택

- **프론트**: Next.js 15 (App Router), React 19, Tailwind, TypeScript
- **인증**: Supabase Auth (Google OAuth), AuthContext 전역 상태, `/auth/callback` 기본 리다이렉트 `/workspace`
- **DB**: Supabase (Postgres), `public.users` ↔ `auth.users` 트리거 동기화, RLS 적용
- **UI**: Liquid Glass 스타일(반투명, backdrop-blur, 얇은 border), 다크 배경(#171717, black), 필기체 로고

---

## 6. UI/UX 원칙 (도메인 정합)

- **워크스페이스**: `#171717` 배경, Liquid Glass 헤더(WorkspaceBar), 하단 고정 프롬프트, 반응형·접근성 유지
- **헤더**: 경로별 분기 — `/workspace` → WorkspaceBar(로고·검색·프로필 팝오버), 그 외 → AppHeader(로고·로그인/로그아웃/홈)
- **브랜딩**: "Vibe AI Music" 로고는 필기체(Dancing Script)로 통일

---

## 7. 적용 규칙

- **신규 기능**: 위 사용자 여정·엔티티·용어와 맞게 설계·명명한다.
- **API·데이터**: 사용자·워크스페이스·프롬프트 도메인과 일치하는 스키마·엔드포인트를 제안한다.
- **문구·라벨**: 서비스 정체와 "음악적 영감", "당신만의 음악" 톤을 해치지 않는다.
- **정책 충돌 시**: core.mdc, ai-policies.mdc 등 다른 룰과 충돌하면 해당 룰의 보안·품질 우선; 그 외에는 도메인 일관성을 따른다.
